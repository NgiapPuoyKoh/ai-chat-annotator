{% extends "base.html" %}
{% block content %}

<h3 class="center-align">Chat Room</h3>

<div class="row card-panel grey lighten-5">
    <form class="col s12 m8 offset-m2" method="POST" action="{{ url_for('chatroom')}}">
        <!-- topic -->
        <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-list prefix light-blue-text text-darken-4"></i>
                <select id="topic_name" name="topic_name" class="validate" required>
                    <option value="" disabled selected>Choose Topic</option>
                    {% for topic in topics %}
                    <option value="{{ topic.topic_name }}">{{ topic.topic_name }}</option>
                    {% endfor %}
                </select>
                <label for="topic_name">Topic</label>
            </div>
        </div>
        <!-- start chat -->
        <div class="row">
            <button type="submit" class="col s12 btn-large light-blue text-darken-4 tooltipped" data-position="right"
                data-tooltip="Initiate Chat">
                Start Chat <i class="far fa-comments"></i>
            </button>
        </div>
        <div class="row">
            <ul class="collection with-header">
                <li class="collection-header">
                    <h4>Chat</h4>
                </li>
                {% if activeconv %}
                <li class="collection-item" id="activeconv" name="activeconv">
                    [{{activeconv.timestamp}}]: ({{activeconv.topic_name}})
                    {{ activeconv.username }}
                </li>
                {% endif %}
            </ul>
        </div>
    </form>
</div>
{% endblock %}